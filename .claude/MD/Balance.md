# Neon Defense – 스테이지(10웨이브) 기반 난이도/빌드 설계 문서 v2
## (Stage 단위 스폰 지점 증가 반영 / 합성 딜레이 제거 / T3·T4 역할 포함)

본 문서는 NeonDefense의 현재 “너무 쉬운 플레이 구조”를 개선하기 위해,
스테이지 구조, 웨이브 설계, Tier 3/4 타워 역할 시스템, 시너지 시스템을 재정의한다.

핵심 목표:
- 스테이지당 10웨이브 고정으로 플레이 밀도 증가
- 6~10 스테이지에서 **규칙 기반 난이도 상승** 체감
- “빌드 선택이 없다” 문제 해결 (T3 역할 선택 + T4 극단화 + 시너지)
- 배속 사용 가능 환경에서도 긴장 유지
- 1판(스테이지) 플레이 타임 10분 이내 유지
- 합성 후 공격 딜레이는 적용하지 않음 (제거)

---

## 1. 용어 정의 (중요)

- Stage: 상위 단위. 스폰 지점(출발 타일) 개수/도착지 개수 등 **맵 룰**을 정의한다.
- Wave: Stage 내부 진행 단위. **스폰 지점 개수는 Wave에서 변하지 않는다.**
  Wave는 적 구성(수/속도/HP/러시/특수)을 통해 난이도를 만든다.

---

## 2. 스테이지 & 웨이브 기본 구조

### 2.1 Stage 구성
- 각 Stage는 **10 Wave 고정**
- 배속 지원 전제

### 2.2 플레이 타임 가이드
- Wave 평균 30~40초 + 인터미션 3~5초
- Stage 평균 6~8분, UI/연출 포함 최대 10분 이내 목표

---

## 3. Stage 레벨 규칙 (Wave와 분리)

### 3.1 Stage별 스폰/도착지 룰 (예시 가이드)
Stage 변경 시에만 아래 값이 증가/변경된다.

| 구간 | Stage | 스폰 지점 수 | 도착지 수 | 설계 목적 |
|---|---:|---:|---:|---|
| 초반 | 1~3 | 2 | 1 | 학습/실험 |
| 중반 | 4~5 | 2 | 2 | 분산 대응 시작 |
| 후반 | 6~10 | 3 | 2 | 후반 압박(빌드 검증) |

※ 정확한 Stage별 스폰 타일 배치는 “랜덤 변경”을 유지하되,
후반 Stage는 3개 스폰 지점이 항상 존재하도록 구성한다.

---

## 4. Wave 난이도 곡선 (스테이지 공통)

Wave는 스폰 지점 수를 바꾸지 않는다.
Wave는 아래 요소로 난이도를 형성한다.

- 적 수(동시/총량)
- 이동속도
- 체력(또는 방어 타입)
- 러시(빠른 적) 비율
- 특수 적(후반 Stage에서 도입)

### 4.1 10 Wave 공통 설계 템포

#### Wave 1~2: 준비
- 느리고 약한 적 위주
- 총량 낮음
- 목적: 맵/스폰 위치 파악, 초기 배치

#### Wave 3~4: 안정성 테스트
- 총량 증가
- 러시 적 소량(“구멍 체크” 목적)
- 목적: 커버 범위/약점 노출

#### Wave 5~6: 선택 압박
- 러시 비율 상승
- 동시 스폰량 증가 (여기서 뚫리기 시작해야 정상)
- 목적: T3 역할 선택의 가치 체감

#### Wave 7~8: 결함 노출
- 러시 집중 등장
- 분산 스폰(=Stage 규칙) 상황에서 대응 요구
- 목적: 범용 빌드 붕괴 / 역할 선택 결과 체감

#### Wave 9~10: 클라이맥스
- 러시 연속 + 특수 적(후반 Stage에서 필수)
- 실수 2~3회면 게임 오버 수준의 압박
- 목적: “완성된 빌드만 생존”

---

## 5. 6~10 Stage 난이도 상승 설계 (Stage 기반 룰 + Wave 구성 강화)

6 Stage 이후는 숫자만 올리지 않고,
**Stage 룰(스폰 3, 도착지 2)** + **Wave 구성 강화**로 체감 난이도를 올린다.

### 5.1 후반 Stage 공통 강화 룰
- 스폰 지점 3개 고정
- 도착지 2개 유지(각 도착지 방어 요구)
- 러시 비율 기본값 상향
- 후반 Wave(7~10)에 특수 적 도입

### 5.2 후반 Stage에서 도입할 “특수 적” 제안 (최소 2종부터)
- 러너(Runner): 매우 빠름, 체력 낮음 (구멍 처벌)
- 브루저(Bruiser): 느리지만 체력 높음 (단일딜 요구)
- (선택) 실더(Shielder): 첫 N회 피격 감소/무효 (시너지/조합 요구)

※ 특수 적은 “시너지 없으면 빡센 구간”을 만들기 위한 장치로 사용한다.

---

## 6. 경제 설계 (스노우볼 억제 – 최우선)

### 6.1 타워 가격 누적 증가 (타입별)
- 같은 타워를 구매할수록 가격 상승
- 판매해도 누적 초기화 없음

권장 공식(예시):
- cost = baseCost * (1 + 0.25 * purchasedCountOfThatType)
- 상한: x2.0 또는 x2.25 권장 (테스트로 조정)

예시:
| 구매 횟수 | 0 | 1 | 2 | 3 | 4 |
|---|---:|---:|---:|---:|---:|
| 가격 배율 | 1.00 | 1.25 | 1.50 | 1.75 | 2.00 |

효과:
- 무지성 스팸 억제
- 6종 타워 혼합 유도
- 시너지/역할 선택이 “필수 전략”으로 전환

---

## 7. Tier 3 역할 선택 설계 (빌드 생성 지점)

### 7.1 공통 규칙
- T2 타워 3개 합성 → T3 생성
- 즉시 역할 선택(변경 불가)
- 역할은 T4까지 고정

### 7.2 역할 카테고리(공통 3개)
- 공격 특화: 단일/폭딜(러시/브루저 대응)
- 제어 특화: 지속/상태이상(분산 스폰 안정화)
- 범용 특화: 범위/커버(초보 안전, 단 최대화력 제한)

---

## 8. Tier 4 선택 진화(극단화 2택)

T4는 T3 선택을 “극단화”한다.
단, 가벼운 게임 유지 위해 선택은 항상 2개만 제공한다.

### 8.1 공통 규칙
- T3 → T4 진화 시 2택 1
- 되돌릴 수 없음
- 항상 트레이드오프가 명확해야 한다

### 8.2 공통 템플릿
- 옵션 A: 파괴 극대화 (장점 극단 강화, 약점 더 커짐)
- 옵션 B: 안정성 보강 (약점 일부 보완, 대신 최대 화력 제한)

---

## 9. T3/T4 역할을 6종 타워에 적용하는 방식 (작업 지시 형태)

본 섹션은 “각 타워가 T3에서 3역할을 갖고,# Neon Defense – 스테이지(10웨이브) 기반 난이도/빌드 설계 문서 v2
## (Stage 단위 스폰 지점 증가 반영 / 합성 딜레이 제거 / T3·T4 역할 포함)

본 문서는 NeonDefense의 현재 “너무 쉬운 플레이 구조”를 개선하기 위해,
스테이지 구조, 웨이브 설계, Tier 3/4 타워 역할 시스템, 시너지 시스템을 재정의한다.

핵심 목표:
- 스테이지당 10웨이브 고정으로 플레이 밀도 증가
- 6~10 스테이지에서 **규칙 기반 난이도 상승** 체감
- “빌드 선택이 없다” 문제 해결 (T3 역할 선택 + T4 극단화 + 시너지)
- 배속 사용 가능 환경에서도 긴장 유지
- 1판(스테이지) 플레이 타임 10분 이내 유지
- 합성 후 공격 딜레이는 적용하지 않음 (제거)

---

## 1. 용어 정의 (중요)

- Stage: 상위 단위. 스폰 지점(출발 타일) 개수/도착지 개수 등 **맵 룰**을 정의한다.
- Wave: Stage 내부 진행 단위. **스폰 지점 개수는 Wave에서 변하지 않는다.**
  Wave는 적 구성(수/속도/HP/러시/특수)을 통해 난이도를 만든다.

---

## 2. 스테이지 & 웨이브 기본 구조

### 2.1 Stage 구성
- 각 Stage는 **10 Wave 고정**
- 배속 지원 전제

### 2.2 플레이 타임 가이드
- Wave 평균 30~40초 + 인터미션 3~5초
- Stage 평균 6~8분, UI/연출 포함 최대 10분 이내 목표

---

## 3. Stage 레벨 규칙 (Wave와 분리)

### 3.1 Stage별 스폰/도착지 룰 (예시 가이드)
Stage 변경 시에만 아래 값이 증가/변경된다.

| 구간 | Stage | 스폰 지점 수 | 도착지 수 | 설계 목적 |
|---|---:|---:|---:|---|
| 초반 | 1~3 | 2 | 1 | 학습/실험 |
| 중반 | 4~5 | 2 | 2 | 분산 대응 시작 |
| 후반 | 6~10 | 3 | 2 | 후반 압박(빌드 검증) |

※ 정확한 Stage별 스폰 타일 배치는 “랜덤 변경”을 유지하되,
후반 Stage는 3개 스폰 지점이 항상 존재하도록 구성한다.

---

## 4. Wave 난이도 곡선 (스테이지 공통)

Wave는 스폰 지점 수를 바꾸지 않는다.
Wave는 아래 요소로 난이도를 형성한다.

- 적 수(동시/총량)
- 이동속도
- 체력(또는 방어 타입)
- 러시(빠른 적) 비율
- 특수 적(후반 Stage에서 도입)

### 4.1 10 Wave 공통 설계 템포

#### Wave 1~2: 준비
- 느리고 약한 적 위주
- 총량 낮음
- 목적: 맵/스폰 위치 파악, 초기 배치

#### Wave 3~4: 안정성 테스트
- 총량 증가
- 러시 적 소량(“구멍 체크” 목적)
- 목적: 커버 범위/약점 노출

#### Wave 5~6: 선택 압박
- 러시 비율 상승
- 동시 스폰량 증가 (여기서 뚫리기 시작해야 정상)
- 목적: T3 역할 선택의 가치 체감

#### Wave 7~8: 결함 노출
- 러시 집중 등장
- 분산 스폰(=Stage 규칙) 상황에서 대응 요구
- 목적: 범용 빌드 붕괴 / 역할 선택 결과 체감

#### Wave 9~10: 클라이맥스
- 러시 연속 + 특수 적(후반 Stage에서 필수)
- 실수 2~3회면 게임 오버 수준의 압박
- 목적: “완성된 빌드만 생존”

---

## 5. 6~10 Stage 난이도 상승 설계 (Stage 기반 룰 + Wave 구성 강화)

6 Stage 이후는 숫자만 올리지 않고,
**Stage 룰(스폰 3, 도착지 2)** + **Wave 구성 강화**로 체감 난이도를 올린다.

### 5.1 후반 Stage 공통 강화 룰
- 스폰 지점 3개 고정
- 도착지 2개 유지(각 도착지 방어 요구)
- 러시 비율 기본값 상향
- 후반 Wave(7~10)에 특수 적 도입

### 5.2 후반 Stage에서 도입할 “특수 적” 제안 (최소 2종부터)
- 러너(Runner): 매우 빠름, 체력 낮음 (구멍 처벌)
- 브루저(Bruiser): 느리지만 체력 높음 (단일딜 요구)
- (선택) 실더(Shielder): 첫 N회 피격 감소/무효 (시너지/조합 요구)

※ 특수 적은 “시너지 없으면 빡센 구간”을 만들기 위한 장치로 사용한다.

---

## 6. 경제 설계 (스노우볼 억제 – 최우선)

### 6.1 타워 가격 누적 증가 (타입별)
- 같은 타워를 구매할수록 가격 상승
- 판매해도 누적 초기화 없음

권장 공식(예시):
- cost = baseCost * (1 + 0.25 * purchasedCountOfThatType)
- 상한: x2.0 또는 x2.25 권장 (테스트로 조정)

예시:
| 구매 횟수 | 0 | 1 | 2 | 3 | 4 |
|---|---:|---:|---:|---:|---:|
| 가격 배율 | 1.00 | 1.25 | 1.50 | 1.75 | 2.00 |

효과:
- 무지성 스팸 억제
- 6종 타워 혼합 유도
- 시너지/역할 선택이 “필수 전략”으로 전환

---

## 7. Tier 3 역할 선택 설계 (빌드 생성 지점)

### 7.1 공통 규칙
- T2 타워 3개 합성 → T3 생성
- 즉시 역할 선택(변경 불가)
- 역할은 T4까지 고정

### 7.2 역할 카테고리(공통 3개)
- 공격 특화: 단일/폭딜(러시/브루저 대응)
- 제어 특화: 지속/상태이상(분산 스폰 안정화)
- 범용 특화: 범위/커버(초보 안전, 단 최대화력 제한)

---

## 8. Tier 4 선택 진화(극단화 2택)

T4는 T3 선택을 “극단화”한다.
단, 가벼운 게임 유지 위해 선택은 항상 2개만 제공한다.

### 8.1 공통 규칙
- T3 → T4 진화 시 2택 1
- 되돌릴 수 없음
- 항상 트레이드오프가 명확해야 한다

### 8.2 공통 템플릿
- 옵션 A: 파괴 극대화 (장점 극단 강화, 약점 더 커짐)
- 옵션 B: 안정성 보강 (약점 일부 보완, 대신 최대 화력 제한)

---

## 9. T3/T4 역할을 6종 타워에 적용하는 방식 (작업 지시 형태)

본 섹션은 “각 타워가 T3에서 3역할을 갖고,
T4에서 2택 극단화를 갖는다”는 규칙을 실제 콘텐츠로 만드는 가이드다.

### 9.1 구현 규칙
- 각 타워(Type)마다:
  - T3 Role 3개 정의 (Attack / Control / Utility)
  - 각 Role마다 T4 Choice 2개 정의 (A/B)
- Role/Choice는 데이터로 관리(권장: JSON/TS 상수)

### 9.2 역할 설계 가이드(반드시 지킬 것)
- 각 Role은 “강점이 확실하지만 특정 상황에 약함”이 있어야 함
- T4 A/B는 “둘 다 좋아 보이는데 용도가 다름”이어야 함
- 후반 Stage(6~10)의 특수 적이 각 Role의 필요성을 만들어야 함

---

## 10. 시너지 시스템(난이도 장치)

### 10.1 발동 조건(성능/구현 친화)
- 동일 적이 1.2초 이내에 서로 다른 2속성 피해를 받으면 발동
- 동일 대상 발동 쿨타임: 2.5초(권장, 조정 가능)

### 10.2 운영 원칙
- 후반 Stage의 일부 적은 “시너지 없이 처리하면 빡세게” 설계
- 시너지는 “보너스”가 아니라 “후반 해법”이 되도록 구성

---

## 11. 작업 지시 요약 (개발 우선순위)

1) Stage를 10 Wave 구조로 변경 (Wave 타이머/인터미션 포함)
2) Stage 룰로 스폰 지점 수 증가 적용 (Wave에서는 불변)
   - Stage 1~5: 스폰 2
   - Stage 6~10: 스폰 3
3) 타워 가격 누적 증가 시스템 적용(타입별)
4) Tier 3 역할 선택 UI/로직 구현
5) Tier 4 2택 진화 구현 (T3 역할 기반)
6) 시너지 시스템 최소 2종 구현 + 동일 대상 쿨타임 적용
7) Stage 6~10에 특수 적 2종 도입 및 Wave 7~10 클라이맥스 튜닝

T4에서 2택 극단화를 갖는다”는 규칙을 실제 콘텐츠로 만드는 가이드다.

### 9.1 구현 규칙
- 각 타워(Type)마다:
  - T3 Role 3개 정의 (Attack / Control / Utility)
  - 각 Role마다 T4 Choice 2개 정의 (A/B)
- Role/Choice는 데이터로 관리(권장: JSON/TS 상수)

### 9.2 역할 설계 가이드(반드시 지킬 것)
- 각 Role은 “강점이 확실하지만 특정 상황에 약함”이 있어야 함
- T4 A/B는 “둘 다 좋아 보이는데 용도가 다름”이어야 함
- 후반 Stage(6~10)의 특수 적이 각 Role의 필요성을 만들어야 함

---

## 10. 시너지 시스템(난이도 장치)

### 10.1 발동 조건(성능/구현 친화)
- 동일 적이 1.2초 이내에 서로 다른 2속성 피해를 받으면 발동
- 동일 대상 발동 쿨타임: 2.5초(권장, 조정 가능)

### 10.2 운영 원칙
- 후반 Stage의 일부 적은 “시너지 없이 처리하면 빡세게” 설계
- 시너지는 “보너스”가 아니라 “후반 해법”이 되도록 구성

---

## 11. 작업 지시 요약 (개발 우선순위)

1) Stage를 10 Wave 구조로 변경 (Wave 타이머/인터미션 포함)
2) Stage 룰로 스폰 지점 수 증가 적용 (Wave에서는 불변)
   - Stage 1~5: 스폰 2
   - Stage 6~10: 스폰 3
3) 타워 가격 누적 증가 시스템 적용(타입별)
4) Tier 3 역할 선택 UI/로직 구현
5) Tier 4 2택 진화 구현 (T3 역할 기반)
6) 시너지 시스템 최소 2종 구현 + 동일 대상 쿨타임 적용
7) Stage 6~10에 특수 적 2종 도입 및 Wave 7~10 클라이맥스 튜닝
