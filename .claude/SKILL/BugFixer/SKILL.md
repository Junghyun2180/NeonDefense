---
name: bug-fixer
description: >
  코드 버그 분석 및 수정 전문 스킬. 사용자가 버그 리포트, 에러 메시지, 예상치 못한 동작을 
  보고할 때 사용. (1) 에러 메시지/스택 트레이스 분석, (2) 재현 단계 파악 및 검증, 
  (3) 근본 원인 분석, (4) 수정안 제시 및 적용, (5) 회귀 방지를 위한 테스트 제안. 
  트리거 키워드 - 버그, 에러, 오류, 안됨, 작동안함, 깨짐, 크래시, 예외, fix, debug
---

# Bug Fixer Skill

코드 버그를 체계적으로 분석하고 수정하는 스킬입니다.

## 버그 수정 워크플로우

```
1. 증상 파악 (Symptom Collection)
   ↓
2. 재현 시도 (Reproduction)
   ↓
3. 원인 분석 (Root Cause Analysis)
   ↓
4. 수정안 설계 (Fix Design)
   ↓
5. 수정 적용 (Implementation)
   ↓
6. 검증 (Verification)
```

## Step 1: 증상 파악

사용자로부터 다음 정보를 수집:

- **무엇이** 잘못되었는가? (증상)
- **언제** 발생하는가? (트리거 조건)
- **어디서** 발생하는가? (위치/컨텍스트)
- **에러 메시지**가 있는가?
- **기대 동작**은 무엇인가?

정보가 불충분하면 질문하되, 한 번에 2-3개 이하로 제한.

## Step 2: 재현 시도

**브라우저 기반 앱의 경우:**
1. 관련 HTML/JS 파일 확인
2. 콘솔 에러 확인 요청
3. 동작 시퀀스 파악

**일반 코드의 경우:**
1. 관련 코드 섹션 로드
2. 입력값/상태 확인
3. 실행 흐름 추적

## Step 3: 원인 분석 (RCA)

### 일반적인 버그 카테고리

| 카테고리 | 징후 | 체크 포인트 |
|---------|------|------------|
| **타입 에러** | TypeError, undefined | 변수 초기화, null 체크 |
| **로직 에러** | 잘못된 결과 | 조건문, 연산자, 경계값 |
| **상태 관리** | 불일치, 레이스 | useState, useEffect 의존성 |
| **이벤트 핸들링** | 미동작, 중복 실행 | 이벤트 리스너, 버블링 |
| **비동기 처리** | 타이밍 이슈 | Promise, async/await, 클로저 |
| **렌더링** | UI 깨짐, 미갱신 | key prop, 조건부 렌더링 |

### React 특화 체크리스트

```
□ useState 초기값이 올바른가?
□ useEffect 의존성 배열이 완전한가?
□ 컴포넌트 key가 고유한가?
□ 이벤트 핸들러가 올바르게 바인딩되었는가?
□ 조건부 렌더링 로직이 정확한가?
□ props가 정확히 전달되는가?
```

### 게임 로직 특화 체크리스트

```
□ 게임 루프 타이밍이 정확한가?
□ 충돌 감지 로직이 올바른가?
□ 상태 업데이트 순서가 맞는가?
□ 참조(ref)가 최신 상태를 반영하는가?
□ 이벤트 클린업이 제대로 되는가?
```

## Step 4: 수정안 설계

### 수정 원칙

1. **최소 변경**: 버그만 수정, 리팩토링 분리
2. **부작용 고려**: 다른 기능에 영향 없는지 확인
3. **가독성 유지**: 복잡도 증가 최소화

### 수정안 포맷

```markdown
## 버그: [간단한 설명]

### 원인
[근본 원인 1-2줄 설명]

### 수정
[변경 위치와 변경 내용]

### 영향 범위
[이 수정으로 영향받는 기능들]
```

## Step 5: 수정 적용

### 코드 변경 시 주의사항

- 변경 전후 코드를 명확히 표시
- 복잡한 변경은 단계별로 분리
- 주석으로 수정 의도 설명 (필요시)

### 적용 예시

```javascript
// Before (버그)
const [count, setCount] = useState();

// After (수정)
const [count, setCount] = useState(0); // 초기값 명시
```

## Step 6: 검증

### 검증 체크리스트

```
□ 원래 버그가 해결되었는가?
□ 관련 기능이 정상 동작하는가?
□ 에지 케이스에서도 동작하는가?
□ 콘솔 에러가 없는가?
□ 성능 저하가 없는가?
```

## 상세 참조

- **React 버그 패턴**: `references/react-bugs.md` 참조
- **게임 로직 버그**: `references/game-bugs.md` 참조

## 커뮤니케이션 가이드

### 버그 보고 요청 시

> "버그를 더 잘 이해하기 위해 몇 가지 여쭤볼게요:
> 1. [구체적 질문 1]
> 2. [구체적 질문 2]"

### 원인 설명 시

> "문제의 원인을 찾았습니다.
> **원인**: [간단 명료하게]
> **해결책**: [구체적으로]"

### 수정 완료 시

> "수정을 완료했습니다.
> - 변경 내용: [요약]
> - 확인해주실 사항: [테스트 방법]"